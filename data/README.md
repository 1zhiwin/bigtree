# Data Directory

This directory contains raw input data and processed results.

## Structure

```
data/
├── raw/                    # Raw input data (not in version control)
│   ├── Pfam-A.hmm         # Pfam-A HMM library (download required)
│   ├── uniprot_reference_proteomes/  # UniProt sequences
│   ├── refseq/            # RefSeq genomes/proteomes
│   └── kegg/              # KEGG KO mappings
└── processed/             # Processed/curated data
    ├── metadata.tsv       # Master metadata table
    ├── cluster_map.tsv    # Sequence clustering results
    ├── domain_architecture.tsv  # Domain annotations
    └── localization_predictions.tsv
```

## Raw Data Sources

### Required Downloads

**1. Pfam-A HMM Library**
```bash
cd data/raw
wget ftp://ftp.ebi.ac.uk/pub/databases/Pfam/current_release/Pfam-A.hmm.gz
gunzip Pfam-A.hmm.gz
hmmpress Pfam-A.hmm
```

**2. UniProt Reference Proteomes**
```bash
# Download from UniProt
# https://www.uniprot.org/proteomes

# Example: All reference proteomes
wget ftp://ftp.uniprot.org/pub/databases/uniprot/current_release/knowledgebase/reference_proteomes/README

# Or use specific taxonomic groups
```

**3. RefSeq (Optional - for taxonomic gap filling)**
```bash
# Download from NCBI
# https://ftp.ncbi.nlm.nih.gov/refseq/
```

### Optional Resources

**KEGG KO Assignments**
- Use BlastKOALA or KOfamKOALA web services
- Or download pre-computed assignments if available

**PDB Structures**
```bash
# Representative DAH7PS structures
cd structures/pdbs

# Example downloads (update with actual PDB IDs)
wget https://files.rcsb.org/download/1RZM.pdb  # Example
```

## Processed Data

Files in `data/processed/` are generated by the workflow and tracked in version control (except very large files).

### Key Files

**metadata.tsv**
- Comprehensive sequence annotations
- Columns: seq_id, taxon, length, class, domains, localization, phenotype, etc.

**cluster_map.tsv**
- Maps representative sequences to cluster members
- Columns: representative_id, cluster_size, member_ids

**domain_architecture.tsv**
- HMMER domain scan results
- Columns: seq_id, architecture, ACT_count, CM_presence, coordinates

## Data Management

### Size Estimates

- Pfam-A.hmm: ~2 GB (with indices)
- UniProt Reference Proteomes: ~10-50 GB (depending on selection)
- Processed sequences: ~10-100 MB
- Alignments: ~1-10 MB each
- Trees: ~1 MB each

### Version Control

Large files (>100 MB) should use Git LFS or external storage:

```bash
# Configure Git LFS (if using)
git lfs track "data/raw/*.hmm"
git lfs track "data/raw/*.faa"
```

Or exclude from Git entirely (already in `.gitignore`) and document download instructions.

### Backup Strategy

1. **Raw data**: Document download sources; can be re-downloaded
2. **Processed data**: Back up to external storage (Zenodo, OSF, institutional storage)
3. **Final outputs**: Version control + data deposition with DOI

## Data Deposition

Upon publication, deposit to:

- **Zenodo**: https://zenodo.org/
- **OSF**: https://osf.io/
- **Dryad**: https://datadryad.org/

Include:
- Curated sequence sets
- Alignments
- Trees
- ASR sequences
- Metadata tables
- Analysis scripts

## Data Use

All data should be properly attributed:

- **Pfam**: Cite Mistry et al. (2021) Nucleic Acids Res.
- **UniProt**: Cite UniProt Consortium (latest) Nucleic Acids Res.
- **PDB**: Cite original structure publications
- **KEGG**: Cite Kanehisa et al. (latest) Nucleic Acids Res.
